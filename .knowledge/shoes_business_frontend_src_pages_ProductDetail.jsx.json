{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "React component for product details page in an online sneaker shop. Handles fetching product data, related products, and rendering UI including image gallery, size and color selectors, and add-to-cart functionality.", "external_files": ["../components/common/Button", "../components/common/Loader", "../components/common/ErrorState", "../state/CartContext.jsx", "../services/api"], "external_methods": ["useParams", "Link", "useCart", "fetchProductById", "fetchRelatedProducts"], "published": ["ProductDetail"], "classes": [], "methods": [{"name": "load", "description": "Fetches product and related products data concurrently, manages loading and error states."}, {"name": "onAddToCart", "description": "Adds selected product with chosen size and color to shopping cart."}, {"name": "ImageGallery({ images = [], selectedIndex = 0, onSelect = () => {} })", "description": "Displays main product image and thumbnails for selection.", "scope": "ProductDetail", "scopeKind": "function"}, {"name": "SizeSelector({ sizes = [], value, onChange })", "description": "UI for selecting product size.", "scope": "ProductDetail", "scopeKind": "function"}, {"name": "ColorSelector({ colors = [], value, onChange })", "description": "UI for selecting product color.", "scope": "ProductDetail", "scopeKind": "function"}, {"name": "ProductDetail()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["useParams()", "useCart()", "fetchProductById(id)", "fetchRelatedProducts(id, 4)", "setProduct(p)", "setRelated(r)", "setLoading(false)", "setErr(e?.message || 'Failed to load product.')", "addItem(...)", "setSidebarOpen(true)"], "search-terms": ["ProductDetail React component", "fetchProductById API call", "related products", "image gallery", "size and color selectors", "add to cart functionality"], "state": 2, "file_id": 22, "knowledge_revision": 116, "git_revision": "055b36f05dcfa9fa449d9c0ef34e411082dffa3b", "revision_history": [{"50": ""}, {"76": "6ece1676f747e05918c78d85ddc23c3bc4fd3e71"}, {"93": "dd735a590f75e8072580a50fc0aa3362e626d6fd"}, {"111": "055b36f05dcfa9fa449d9c0ef34e411082dffa3b"}, {"116": "055b36f05dcfa9fa449d9c0ef34e411082dffa3b"}], "ctags": [{"_type": "tag", "name": "ColorSelector", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^function ColorSelector({ colors = [], value, onChange }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ colors = [], value, onChange })", "scope": "ProductDetail", "scopeKind": "function"}, {"_type": "tag", "name": "ImageGallery", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^function ImageGallery({ images = [], selectedIndex = 0, onSelect = () => {} }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ images = [], selectedIndex = 0, onSelect = () => {} })", "scope": "ProductDetail", "scopeKind": "function"}, {"_type": "tag", "name": "ProductDetail", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^export default function ProductDetail() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "SizeSelector", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^function SizeSelector({ sizes = [], value, onChange }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ sizes = [], value, onChange })", "scope": "ProductDetail", "scopeKind": "function"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              value={color}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.value", "scopeKind": "class"}, {"_type": "tag", "name": "colors", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              colors={colors}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.colors", "scopeKind": "class"}, {"_type": "tag", "name": "images", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^          images={images}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.images", "scopeKind": "class"}, {"_type": "tag", "name": "length || 1}", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^          aria-label={`Main image ${selectedIndex + 1} of ${images.length || 1}`}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.ImageGallery.aria.Main image ${selectedIndex + 1} of ${images", "scopeKind": "class"}, {"_type": "tag", "name": "selectedImageIdx", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^          selectedIndex={selectedImageIdx}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.selectedIndex", "scopeKind": "class"}, {"_type": "tag", "name": "setColor", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              onChange={setColor}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "setSelectedImageIdx", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^          onSelect={setSelectedImageIdx}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.onSelect", "scopeKind": "class"}, {"_type": "tag", "name": "setSize", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              onChange={setSize}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "size", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              value={size}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.value", "scopeKind": "class"}, {"_type": "tag", "name": "sizes", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              sizes={sizes}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.sizes", "scopeKind": "class"}], "hash": "b79c0b00a80c8fdca299e6e72a83456f", "format-version": 4, "code-base-name": "shoes_business_frontend", "filename": "shoes_business_frontend/src/pages/ProductDetail.jsx", "fields": [{"name": "value={color}", "scope": "ProductDetail.value", "scopeKind": "class", "description": "unavailable"}, {"name": "colors={colors}", "scope": "ProductDetail.colors", "scopeKind": "class", "description": "unavailable"}, {"name": "images={images}", "scope": "ProductDetail.images", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={`Main image ${selectedIndex + 1} of ${images.length || 1}`}", "scope": "ProductDetail.ImageGallery.aria.Main image ${selectedIndex + 1} of ${images", "scopeKind": "class", "description": "unavailable"}, {"name": "selectedIndex={selectedImageIdx}", "scope": "ProductDetail.selectedIndex", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={setColor}", "scope": "ProductDetail.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "onSelect={setSelectedImageIdx}", "scope": "ProductDetail.onSelect", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={setSize}", "scope": "ProductDetail.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "value={size}", "scope": "ProductDetail.value", "scopeKind": "class", "description": "unavailable"}, {"name": "sizes={sizes}", "scope": "ProductDetail.sizes", "scopeKind": "class", "description": "unavailable"}]}