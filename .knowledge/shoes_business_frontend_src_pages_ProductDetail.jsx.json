{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines the ProductDetail React component, which displays detailed information about a product including images, description, options for size and color, and related products. It imports various components and services, manages state, handles data fetching, and renders the product page UI.", "external_files": ["../components/common/Button", "../components/common/Loader", "../components/common/ErrorState", "../state/CartContext.jsx", "../services/api"], "external_methods": ["useParams", "Link", "useCart", "fetchProductById", "fetchRelatedProducts"], "published": ["ProductDetail", "ImageGallery", "SizeSelector", "ColorSelector"], "classes": [], "methods": [{"name": "load", "description": "Asynchronous function that fetches product and related products data based on the product ID, managing loading and error states."}, {"name": "onAddToCart", "description": "Handles adding the selected product with chosen size and color to the shopping cart, with validation."}, {"name": "ColorSelector({ colors = [], value, onChange })", "scope": "ProductDetail", "scopeKind": "function", "description": "unavailable"}, {"name": "ImageGallery({ images = [], selectedIndex = 0, onSelect = () => {} })", "scope": "ProductDetail", "scopeKind": "function", "description": "unavailable"}, {"name": "ProductDetail()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SizeSelector({ sizes = [], value, onChange })", "scope": "ProductDetail", "scopeKind": "function", "description": "unavailable"}], "calls": ["useParams()", "useCart()", "fetchProductById(id)", "fetchRelatedProducts(id, 4)", "Promise.all([])", "setProduct(p)", "setRelated(r)", "setErr(e?.message || 'Failed to load product.')", "setLoading(false)", "addItem()", "setSidebarOpen(true)"], "search-terms": ["ProductDetail React component", "product page", "image gallery", "size color selectors", "related products", "fetchProductById", "fetchRelatedProducts", "CartContext"], "state": 2, "file_id": 22, "knowledge_revision": 93, "git_revision": "dd735a590f75e8072580a50fc0aa3362e626d6fd", "revision_history": [{"50": ""}, {"76": "6ece1676f747e05918c78d85ddc23c3bc4fd3e71"}, {"93": "dd735a590f75e8072580a50fc0aa3362e626d6fd"}], "ctags": [{"_type": "tag", "name": "ColorSelector", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^function ColorSelector({ colors = [], value, onChange }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ colors = [], value, onChange })", "scope": "ProductDetail", "scopeKind": "function"}, {"_type": "tag", "name": "ImageGallery", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^function ImageGallery({ images = [], selectedIndex = 0, onSelect = () => {} }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ images = [], selectedIndex = 0, onSelect = () => {} })", "scope": "ProductDetail", "scopeKind": "function"}, {"_type": "tag", "name": "ProductDetail", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^export default function ProductDetail() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "SizeSelector", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^function SizeSelector({ sizes = [], value, onChange }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ sizes = [], value, onChange })", "scope": "ProductDetail", "scopeKind": "function"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              value={color}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.value", "scopeKind": "class"}, {"_type": "tag", "name": "colors", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              colors={colors}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.colors", "scopeKind": "class"}, {"_type": "tag", "name": "images", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^          images={images}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.images", "scopeKind": "class"}, {"_type": "tag", "name": "selectedImageIdx", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^          selectedIndex={selectedImageIdx}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.selectedIndex", "scopeKind": "class"}, {"_type": "tag", "name": "setColor", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              onChange={setColor}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "setSelectedImageIdx", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^          onSelect={setSelectedImageIdx}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.onSelect", "scopeKind": "class"}, {"_type": "tag", "name": "setSize", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              onChange={setSize}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "size", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              value={size}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.value", "scopeKind": "class"}, {"_type": "tag", "name": "sizes", "path": "/home/kavia/workspace/code-generation/sneaker-shop-online-platform-179105-179114/shoes_business_frontend/src/pages/ProductDetail.jsx", "pattern": "/^              sizes={sizes}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.sizes", "scopeKind": "class"}], "hash": "d8a3a650ae3bc4c2f28f0842f781adba", "format-version": 4, "code-base-name": "shoes_business_frontend", "filename": "shoes_business_frontend/src/pages/ProductDetail.jsx", "fields": [{"name": "value={color}", "scope": "ProductDetail.value", "scopeKind": "class", "description": "unavailable"}, {"name": "colors={colors}", "scope": "ProductDetail.colors", "scopeKind": "class", "description": "unavailable"}, {"name": "images={images}", "scope": "ProductDetail.images", "scopeKind": "class", "description": "unavailable"}, {"name": "selectedIndex={selectedImageIdx}", "scope": "ProductDetail.selectedIndex", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={setColor}", "scope": "ProductDetail.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "onSelect={setSelectedImageIdx}", "scope": "ProductDetail.onSelect", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={setSize}", "scope": "ProductDetail.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "value={size}", "scope": "ProductDetail.value", "scopeKind": "class", "description": "unavailable"}, {"name": "sizes={sizes}", "scope": "ProductDetail.sizes", "scopeKind": "class", "description": "unavailable"}]}